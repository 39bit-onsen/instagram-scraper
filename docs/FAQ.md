# よくある質問（FAQ）

Instagram ハッシュタグスクレイパーに関するよくある質問と回答をまとめました。

## 📋 目次

1. [一般的な質問](#一般的な質問)
2. [技術的な質問](#技術的な質問)
3. [使用方法に関する質問](#使用方法に関する質問)
4. [法的・倫理的な質問](#法的倫理的な質問)
5. [トラブルシューティング](#トラブルシューティング)
6. [開発・カスタマイズ](#開発カスタマイズ)

---

## ❓ 一般的な質問

### Q: このツールは何ができますか？

**A:** Instagram ハッシュタグスクレイパーは以下の機能を提供します：
- 特定のハッシュタグの投稿数を取得
- 関連するハッシュタグの抽出
- トップ投稿（最大12件）の情報取得
- CSV/JSON形式でのデータ保存
- バッチ処理による複数タグの一括取得
- GUIによる簡単操作
- スケジュール実行による定期取得

### Q: 無料で使えますか？

**A:** はい、このツールは完全に無料でオープンソースです。MITライセンスの下で公開されており、個人・商用を問わず自由に使用できます。

### Q: どのOSで動作しますか？

**A:** 以下のOSで動作確認済みです：
- Windows 10/11
- Ubuntu 22.04 LTS
- macOS 12以降

Python 3.10以降がインストールされていれば、他のOSでも動作する可能性があります。

### Q: Instagramアカウントは必要ですか？

**A:** はい、データ取得にはInstagramアカウントが必要です。ただし：
- 専用アカウントの使用を推奨
- 2段階認証にも対応
- パスワードはローカルに保存されません（Cookieのみ）

---

## 🔧 技術的な質問

### Q: なぜSeleniumを使用しているのですか？

**A:** Instagramは動的にコンテンツを生成するSPAであり、以下の理由でSeleniumを採用しています：
- JavaScriptの実行が必要
- 公式APIでは取得できない情報へのアクセス
- 人間の操作をシミュレート
- アンチボット対策への対応

### Q: APIは使用できませんか？

**A:** Instagram Graph APIは以下の制限があります：
- ビジネスアカウントのみ対象
- 自分の投稿データのみアクセス可能
- ハッシュタグ検索機能は限定的
- 承認プロセスが必要

そのため、このツールではブラウザ自動化を採用しています。

### Q: データはどこに保存されますか？

**A:** データは以下の構造で保存されます：
```
data/
└── hashtags/
    └── YYYYMM/
        ├── hashtag_name_YYYYMMDD_HHMMSS.csv
        └── hashtag_name_YYYYMMDD_HHMMSS.json
```

### Q: Cookie認証の仕組みは？

**A:** 
1. 初回ログイン時にブラウザのCookieを取得
2. `cookies/ig_cookies.json`に保存
3. 次回以降はCookieを使って自動ログイン
4. 有効期限は通常2週間程度

---

## 📖 使用方法に関する質問

### Q: 一度に何個のタグを取得できますか？

**A:** 技術的な制限はありませんが、以下を推奨します：
- 1回のバッチ処理: 50個以下
- 1日の合計: 200個以下
- タグ間の待機時間: 2-5秒

過度な使用はアカウント制限の原因となります。

### Q: スケジュール実行の設定方法は？

**A:** 
1. `config/scheduler.json`を編集
2. 以下の形式で設定：
```json
{
  "jobs": [{
    "name": "daily_job",
    "schedule": "daily",
    "time": "09:00",
    "tags_file": "config/tags.csv",
    "enabled": true
  }]
}
```
3. `python src/scheduler.py --run`で実行

### Q: GUIとCLIのどちらを使うべきですか？

**A:** 用途によって選択してください：

**GUI（推奨）**：
- 非エンジニア
- 単発の取得
- 視覚的な確認が必要

**CLI**：
- 自動化・スクリプト化
- バッチ処理
- リモートサーバーでの実行

### Q: ヘッドレスモードとは？

**A:** ブラウザウィンドウを表示せずに実行するモードです：
- **メリット**: 高速、リソース節約、バックグラウンド実行可能
- **デメリット**: デバッグが困難、一部のアンチボット対策で検出される可能性

---

## ⚖️ 法的・倫理的な質問

### Q: Instagramの利用規約に違反しませんか？

**A:** 以下の点にご注意ください：
- 自動化ツールの使用は利用規約で制限されています
- 商用利用には特に注意が必要です
- 自己責任でご使用ください
- 過度な使用は避けてください

### Q: 取得したデータの使用制限は？

**A:** 
- 公開されている情報のみを取得
- 著作権は元の投稿者に帰属
- 個人情報の取り扱いに注意
- 商用利用時は法的確認を推奨

### Q: アカウントがブロックされる可能性は？

**A:** 以下の場合にリスクが高まります：
- 短時間での大量アクセス
- 同じIPからの反復的なアクセス
- 異常なアクセスパターン

**対策**：
- 適切な待機時間の設定
- 人間らしいアクセスパターン
- 専用アカウントの使用

---

## 🔨 トラブルシューティング

### Q: 「ログインセッションが切れています」エラー

**A:** 
```bash
# Cookieを削除して再ログイン
rm cookies/ig_cookies.json
python src/scraper/login.py
```

### Q: 投稿数が取得できない

**A:** InstagramのDOM構造が変更された可能性があります：
1. 最新版にアップデート
2. セレクタの手動確認
3. Issueで報告

### Q: 処理が途中で止まる

**A:** 
- メモリ不足: タスクマネージャーで確認
- ネットワーク問題: 接続を確認
- レート制限: 待機時間を増やす

---

## 👨‍💻 開発・カスタマイズ

### Q: 新しい情報を取得したい

**A:** `src/scraper/fetch_tag.py`をカスタマイズ：
```python
def _extract_custom_data(self):
    # カスタムデータの抽出ロジック
    pass
```

### Q: 出力形式を変更したい

**A:** `src/scraper/data_manager.py`を編集：
- Excel出力: `openpyxl`を使用
- データベース保存: SQLAlchemyを追加
- カスタムフォーマット: 新規メソッドを作成

### Q: プロキシを使用したい

**A:** 
```python
# src/scraper/utils.pyに追加
options.add_argument('--proxy-server=http://proxy:port')
```

### Q: Docker化したい

**A:** Dockerfileの例：
```dockerfile
FROM python:3.10-slim
RUN apt-get update && apt-get install -y chromium chromium-driver
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["python", "src/run_batch.py"]
```

---

## 💡 その他の質問

### Q: エラーログはどこに保存されますか？

**A:** デフォルトではコンソールに出力されます。ファイル保存する場合：
```bash
python src/run_batch.py 2>&1 | tee logs/error.log
```

### Q: 複数のInstagramアカウントを使用できますか？

**A:** 可能ですが、手動での切り替えが必要：
```bash
# アカウントごとにCookieファイルを管理
mv cookies/ig_cookies.json cookies/account1_cookies.json
```

### Q: 取得速度を上げる方法は？

**A:** 
1. 待機時間を最小化（リスクあり）
2. 並列処理の実装（上級者向け）
3. 不要な情報の取得をスキップ

⚠️ ただし、アカウント制限のリスクが高まります。

### Q: コントリビュートしたい

**A:** 大歓迎です！
1. リポジトリをフォーク
2. 機能ブランチを作成
3. コードを変更
4. テストを追加
5. プルリクエストを送信

詳細は[CONTRIBUTING.md](../CONTRIBUTING.md)をご覧ください。

---

## 📞 質問が解決しない場合

1. [トラブルシューティングガイド](TROUBLESHOOTING.md)を確認
2. [GitHub Issues](https://github.com/39bit-onsen/instagram-scraper/issues)で検索
3. 新しいIssueを作成

質問時は以下を含めてください：
- 使用OS
- Pythonバージョン
- エラーメッセージ
- 実行したコマンド

---

最終更新日: 2025年1月